---
import Layout from '../layouts/Layout.astro';

const licenses = [
  "MIT License",
  "GNU General Public License v3.0",
  "Apache License 2.0",
  "BSD 3-Clause 'New' or 'Revised' License",
  "BSD 2-Clause 'Simplified' or 'FreeBSD' License",
  "Creative Commons Zero v1.0 Universal",
  "Creative Commons Attribution 4.0 International",
  "Creative Commons Attribution Share Alike 4.0 International",
  "Eclipse Public License 2.0",
  "GNU Affero General Public License v3.0",
  "GNU General Public License v2.0",
  "GNU Lesser General Public License v2.1",
  "Mozilla Public License 2.0",
  "The Unlicense"
];
---

<Layout>
  <div class="container mx-auto px-4 py-8">
    <header class="text-center mb-8">
      <h1 class="text-4xl font-bold mb-2">License Information</h1>
      <p class="text-lg">It is important to use a license in your project for many reasons!</p>
    </header>
    <div class="relative max-w-xl mx-auto">
      <div class="relative">
        <button 
          id="dropdown-toggle" 
          class="w-full px-4 py-2 mb-2 border rounded bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"
        >
          <span>Select a license</span>
          <i class="fas fa-chevron-down"></i>
        </button>
        <div id="dropdown" class="hidden absolute w-full mt-1 bg-white dark:bg-gray-800 border rounded shadow-lg z-10">
          <input 
            type="text" 
            placeholder="Search for a license..." 
            class="w-full px-4 py-2 border-b focus:outline-none"
            oninput="filterLicenses(event)"
          />
          <ul id="license-list" class="max-h-60 overflow-y-auto">
            {licenses.map(license => (
              <li class="px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer">{license}</li>
            ))}
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.getElementById('dropdown-toggle').addEventListener('click', toggleDropdown);
    });

    function toggleDropdown() {
      const dropdown = document.getElementById('dropdown');
      dropdown.classList.toggle('hidden');
    }

    function filterLicenses(event) {
      const filter = event.target.value.toLowerCase();
      const ul = document.getElementById("license-list");
      const li = ul.getElementsByTagName("li");
      for (let i = 0; i < li.length; i++) {
        const text = li[i].textContent || li[i].innerText;
        li[i].style.display = text.toLowerCase().indexOf(filter) > -1 ? "" : "none";
      }
    }
  </script>
</Layout>
