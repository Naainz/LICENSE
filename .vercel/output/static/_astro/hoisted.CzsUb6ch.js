import"./hoisted.fkd-gwp4.js";document.addEventListener("DOMContentLoaded",function(){document.getElementById("dropdown-toggle").addEventListener("click",a),document.getElementById("search-input").addEventListener("input",r),window.selectLicense=m});function a(){document.getElementById("dropdown").classList.toggle("hidden")}function r(o){const i=o.target.value.toLowerCase(),t=document.getElementById("license-list").getElementsByTagName("li");for(let e=0;e<t.length;e++){const n=t[e].textContent||t[e].innerText;t[e].style.display=n.toLowerCase().indexOf(i)>-1?"":"none"}}async function m(o){a();const c=await(await fetch(`/src/db/${o}`)).text(),{metadata:t,body:e}=f(c);document.getElementById("license-text").textContent=e,document.getElementById("license-title").textContent=t.title,document.getElementById("license-description").textContent=t.description,d("permissions-list",t.permissions,"fa-check"),d("limitations-list",t.limitations,"fa-times"),p("conditions-list",t.conditions),document.getElementById("license-content").classList.remove("hidden")}function f(o){const i=o.split("---").filter(s=>s.trim()!==""),c=i[0].trim(),t=i[1].trim(),e=c.split(`
`),n={};for(const s of e)s.startsWith("title:")?n.title=s.replace("title: ","").trim():s.startsWith("description:")?n.description=s.replace("description: ","").trim():s.startsWith("permissions:")?n.permissions=l(e,e.indexOf(s)):s.startsWith("conditions:")?n.conditions=l(e,e.indexOf(s)):s.startsWith("limitations:")&&(n.limitations=l(e,e.indexOf(s)));return{metadata:n,body:t}}function l(o,i){const c=[];for(let t=i+1;t<o.length;t++){const e=o[t].trim();if(e.startsWith("- "))c.push(e.replace("- ","").trim());else break}return c}function d(o,i,c){const t=document.getElementById(o);if(t.innerHTML="",i&&i.length>0)i.forEach(e=>{const n=document.createElement("li");n.className="flex justify-between items-center",n.innerHTML=`${e} <i class="fas ${c}"></i>`,t.appendChild(n)});else{const e=document.createElement("li");e.textContent="None",t.appendChild(e)}}function p(o,i){const c=document.getElementById(o);c.innerHTML="";const t={"include-copyright":"fa-copyright","disclose-source":"fa-code-branch","document-changes":"fa-file-alt","network-use-disclose":"fa-wifi","same-license":"fa-dollar-sign"};if(i&&i.length>0)i.forEach(e=>{const n=document.createElement("li");n.className="flex justify-between items-center";const s=t[e]||"";n.innerHTML=`${e} ${s?`<i class="fas ${s}"></i>`:""}`,c.appendChild(n)});else{const e=document.createElement("li");e.textContent="None",c.appendChild(e)}}
